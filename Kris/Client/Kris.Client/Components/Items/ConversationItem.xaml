<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:tk="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             xmlns:vm="clr-namespace:Kris.Client.ViewModels.Items"
             x:Class="Kris.Client.Components.Items.ConversationItem"
             x:DataType="vm:ConversationItemViewModel"
             BackgroundColor="DimGrey">

    <ContentView.GestureRecognizers>
        <TapGestureRecognizer Command="{Binding ClickedCommand}" />
    </ContentView.GestureRecognizers>

    <StackLayout Orientation="Horizontal"
                 HorizontalOptions="FillAndExpand">
        <Label Text="{Binding Name}" FontSize="Title" 
               HorizontalOptions="StartAndExpand" />

        <StackLayout Orientation="Vertical"
                     HorizontalOptions="End"
                     VerticalOptions="FillAndExpand">
            
            <StackLayout Orientation="Horizontal">
                <Label Text="{Binding MessageCount}" />
                <Label Text=" messages" />
            </StackLayout>
            
            <StackLayout Orientation="Horizontal">
                <Label Text="Last message: " />
                <Label Text="{Binding LastMessage}" />
            </StackLayout>
        </StackLayout>
    </StackLayout>
</ContentView>
